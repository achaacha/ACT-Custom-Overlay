<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title> Acha - Settings </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,700">
    <link rel="stylesheet" href="../overlay/css/reset.css?v=daze-days" />
    <link rel="stylesheet" href="index.css?v=daze-days" />
    <link rel="stylesheet" href="media.css?v=daze-days" />
    <link rel="stylesheet" href="dialog.css?v=daze-days" />
    <link rel="stylesheet" href="../share/css/job-icons.css?v=daze-days" />
    <script src="lib/sortable-1.7.0-min.js"> </script>
    <script src="../share/lib/util.js?v=daze-days"> </script>
    <script src="../share/lib/locale.js?v=daze-days"> </script>
    <script src="../share/lib/config.js?v=daze-days"> </script>
    <script src="lib/dialog.js?v=daze-days"> </script>
    <script src="lib/ui.js?v=daze-days"> </script>
    <script src="lib/tabconfig.js?v=daze-days"> </script>
    <script src="lib/import-export.js?v=daze-days"> </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ace.js"> </script>

    <template id="template-tab">
      <li class="draggable">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" class="icon">
          <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
        </svg>
        <label> ... </label>
      </li>
    </template>
    <template id="template-pane">
      <div class="tabconfig-pane">
        <article>
          <p class="control half">
            <label data-render="title.label"
                   data-locale="ui.config.tab.title">
              제목
            </label>
            <input type="text" data-render="title.input"
                   style="width: 3rem;" />
          </p><p class="control half">
            <label data-render="width.label"
                   data-locale="ui.config.tab.width">
              24인 모드
            </label>
            <select data-render="width.input">
              <option data-locale="ui.config.tab.widths.1"
                      value="1"> 끔 </option>
              <option data-locale="ui.config.tab.widths.2"
                      value="2"> 2명씩 </option>
              <option data-locale="ui.config.tab.widths.3"
                      value="3"> 3명씩 </option>
            </select>
          </p>
          <p class="control">
            <label data-render="sort.label"
                   data-locale="ui.config.tab.sortby">
              정렬 기준
            </label>
            <select data-render="sort.input">
              <option> ... </option>
            </select>
          </p>
        </article>
        <div class="tabconfig-list-container">
          <ul class="tabconfig-list">
            <li class="header"
                data-locale="ui.config.tab.available">
              사용할 수 있는 항목
            </li>
            <ul data-control="columns.available">
            </ul>
          </ul>
          <ul class="tabconfig-list">
            <li class="header"
                data-locale="ui.config.tab.configured">
              설정된 항목 (권장: 이름 제외 6개까지)
            </li>
            <ul data-control="columns.used">
            </ul>
          </ul>
        </div>
      </div>
    </template>

    <script>
'use strict'

window.config = new Config()

config.load()
config.setResizeFactor()

window.locale = new Locale(window.config.get('lang'))

document.addEventListener('DOMContentLoaded', _ => {
  window.tabconfig = new Tabconfig()
  window.editor = ace.edit('editor')
  editor.$blockScrolling = Infinity
  editor.setTheme('ace/theme/tomorrow_night_eighties')

  let session = editor.getSession()
  session.setMode('ace/mode/css')
  session.setTabSize(2)
  session.setUseSoftTabs(true)

  editor.setValue(config.get('custom_css') || (CONFIG_DEFAULT.custom_css + '\n'))
  editor.gotoLine(1)

  setTimeout(_ => window.locale.localizeAll(), 500)
})
    </script>
  </head>
  <body>
    <input type="checkbox" class="hidden" id="aside-toggle" />
    <label class="aside-dimmer" for="aside-toggle"> </label>
    <aside onclick="$('#aside-toggle').click()">
      <h1 ondblclick="location.reload()"
          data-locale="ui.config._"> 설정 </h1>
      <ul class="menu">
        <li class="mobile-only">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
               viewBox="0 0 24 24" class="icon">
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
          <label data-locale="ui.config._"> 설정 </label>
        </li>
        <li class="mobile-only splitter"> </li>
        <li data-page="general">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
               viewBox="0 0 24 24" class="icon">
            <path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z" />
          </svg>
          <label data-locale="ui.config.general._"> 일반 </label>
        </li>
       
        <li data-page="tab">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
               viewBox="0 0 24 24" class="icon">
            <path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z" />
          </svg>
          <label data-locale="ui.config.tab._"> 탭 </label>
        </li>
        <li data-page="import-export">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
               viewBox="0 0 24 24" class="icon">
            <path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z" />
          </svg>
          <label data-locale="ui.config.i/e._"> 들여오기/내보내기 </label>
        </li>
    </aside>
    <header>
      <label for="aside-toggle">
        <svg class="icon" width="1.5em" height="1.5em" viewBox="0 0 24 24">
          <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path>
        </svg>
      </label>
      <h2 data-locale="ui.config.general._"> 일반 </h2>
      <span class="ws-tab-notice hidden">
        Qt의 버그 때문에 드래그가 잘 안 됩니다.
        <br />
        드래그를 끝낸 후 그 자리를 한 번 클릭해주세요!
      </span>
      <ul class="buttons">
        <li class="button button-primary" id="save"
            data-locale="ui.config.save"> 저장 </li>
      </ul>
    </header>
    <main>
      <section data-page="general" class="active">
        <article>
          <p class="control">
            <label for="input-lang">
              Language
            </label>
            <select id="input-lang"
                    data-config-key="lang">
              <option value="ko"> 한국어 </option>
              <option value="ja"> 日本語 </option>
              <option value="cn"> 中文 </option>
              <option value="en"> English </option>
              <option value="de"> Deutsch </option>
              <option value="fr"> Français </option>
            </select>
          </p>
        </article>
        <article>
          <h3 data-locale="ui.config.general.combine_pet"> 펫 합산 </h3>
          <p class="control">
            <label for="input-format-myname"
                   data-locale="config.format.myname"> 내 이름 </label>
            <input type="text" id="input-format-myname"
                   data-config-key="format.myname"
                   data-splitter=","
                   data-type="array"
                   data-locale="ui.config.general.split-by-comma=placeholder"
                   placeholder="쉼표(,)로 구분합니다."/>
          </p>
        </article>
        <article>
          <h3 data-locale="ui.config.general.basic"> 기본 </h3>
          <p class="control">
            <label for="input-format-use_short_name"
                   data-locale="config.format.use_short_name">
              이름을 이니셜로 표시 (글로벌 서버용)
            </label>
            <select id="input-format-use_short_name"
                    data-type="integer"
                    data-config-key="format.use_short_name">
              <option value="0">First Last</option>
              <option value="1">F. Last</option>
              <option value="2">First L.</option>
              <option value="3">F. L.</option>
            </select>
          </p>
          <p class="control">
            <label for="input-style-resize-factor"
                   data-locale="config.style.resize-factor">
              UI 크기 조절
            </label>
            <span class="input-group">
              <label class="input-value"
                     for="input-style-resize-factor">
                1.0
              </label>
              <input type="range" id="input-style-resize-factor"
                     data-config-key="style.resize-factor"
                     min="0.75" step="0.125" max="2" />
            </span>
          </p>
          <p class="control">
            <label for="input-style-body-font"
                   data-locale="config.style.body-font">
              본문 폰트
            </label>
            <input type="text" id="input-style-body-font"
                   data-config-key="style.body-font"
                   style="flex-grow: 50;"/>
          </p>
          <p class="control">
            <label for="input-format-use_tailing_pct"
                   data-locale="config.format.use_tailing_pct">
              백분율 값 뒤에 % 기호를 표시
            </label>
            <input type="checkbox" id="input-format-use_tailing_pct"
                   data-type="boolean"
                   data-config-key="format.use_tailing_pct" />
          </p>
        </article>
        <article>
          <h3 data-locale="config.format.significant_digit._">
            소수점 정확도
          </h3>
          <p class="control">
            <label for="input-format-significant_digit-dps"
                   data-locale="config.format.significant_digit.dps">
              DPS
            </label>
            <span class="input-group">
              <label class="input-value"
                     for="input-format-significant_digit-dps">
                2
              </label>
              <input type="range" id="input-format-significant_digit-dps"
                     data-config-key="format.significant_digit.dps"
                     min="0" step="1" max="2" />
            </span>
          </p>
          <p class="control">
            <label for="input-format-significant_digit-hps"
                   data-locale="config.format.significant_digit.hps">
              HPS
            </label>
            <span class="input-group">
              <label class="input-value"
                     for="input-format-significant_digit-hps">
                2
              </label>
              <input type="range" id="input-format-significant_digit-hps"
                     data-config-key="format.significant_digit.hps"
                     min="0" step="1" max="2" />
            </span>
          </p>
          <p class="control">
            <label for="input-format-significant_digit-accuracy"
                   data-locale="config.format.significant_digit.accuracy">
              실패율 (미스 수 / 타격 수)
            </label>
            <span class="input-group">
              <label class="input-value"
                     for="input-format-significant_digit-accuracy">
                2
              </label>
              <input type="range" id="input-format-significant_digit-accuracy"
                     data-config-key="format.significant_digit.accuracy"
                     min="0" step="1" max="2" />
            </span>
          </p>
          <p class="control">
            <label for="input-format-significant_digit-critical"
                   data-locale="config.format.significant_digit.critical">
              극대화 비율
            </label>
            <span class="input-group">
              <label class="input-value"
                     for="input-format-significant_digit-critical">
                0
              </label>
              <input type="range" id="input-format-significant_digit-critical"
                     data-config-key="format.significant_digit.critical"
                     min="0" step="1" max="2" value="0" />
            </span>
          </p>
        </article>
        <article>
          <h3 data-locale="ui.config.general.footer._"> 하단 바 항목 </h3>
          <p class="control">
            <label for="input-footer-rank"
                   data-locale="ui.config.general.footer.rank">
              현재 순위
            </label>
            <input type="checkbox" id="input-footer-rank"
                   data-type="boolean"
                   data-config-key="footer.rank" />
          </p>
          <p class="control">
            <label for="input-footer-rdps"
                   data-locale="ui.config.general.footer.rdps">
              RDPS
            </label>
            <input type="checkbox" id="input-footer-rdps"
                   data-type="boolean"
                   data-config-key="footer.rdps" />
          </p>
          <p class="control">
            <label for="input-footer-rhps"
                   data-locale="ui.config.general.footer.rhps">
              RHPS
            </label>
            <input type="checkbox" id="input-footer-rhps"
                   data-type="boolean"
                   data-config-key="footer.rhps" />
          </p>
          <p class="control">
            <label for="input-footer-recover"
                   data-locale="ui.config.general.footer.recover">
              총 받은 힐 / 받은 대미지 🔄
            </label>
            <input type="checkbox" id="input-footer-recover"
                   data-type="boolean"
                   data-config-key="footer.recover" />
          </p>
        </article>		
        <article>
          <h3 data-locale="ui.config.general.reset"> Re:제로 </h3>
          <p class="control">
            <label for="button-reset-all"
                   data-locale="ui.config.general.reset-this">
              전부 초기화하기
            </label>
            <button id="button-reset-all"
                    data-reset=""
                    data-locale="ui.config.execute">
              실행
            </button>
          </p>
        </article>
      </section>
     
      <section data-page="tab" class="tabbed-section">
        <ul class="tab" id="tab-container">
          <li class="tab-button" id="tab-new">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                 viewBox="0 0 24 24" class="icon">
              <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
            </svg>
          </li>
          <li class="tab-button" data-reset="tabs">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                 viewBox="0 0 24 24" class="icon">
              <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
            </svg>
          </li>
        </ul>
        <div class="tabconfig-pane-container" id="tabconfig-pane-container">
        </div>
      </section>
      <section data-page="import-export" class="tabbed-section">
        <ul class="tab tab-switcher text-center"
            data-target="section[data-page=import-export] > div">
          <li data-pane="import" class="active"
              data-locale="ui.config.i/e.import">
            들여오기
          </li>
          <li data-pane="export"
              data-locale="ui.config.i/e.export">
            내보내기
          </li>
        </ul>
        <div class="tabconfig-pane-container">
          <div class="tabconfig-pane active" data-pane="import">
            <article>
              <p class="text-center">
                <span data-locale="ui.config.i/e.paste-here">
                  아래에 가져온 값을 붙여넣으세요:
                </span>
                <br />
                <input type="text" id="import-text" class="text-center" />
              </p>
              <p class="control text-right">
                <button id="import-button"
                        data-locale="ui.config.i/e.import">
                  가져오기
                </button>
              </p>
            </article>
            <div class="tabconfig-content text-center" id="import-data"
                 style="height: calc(100% - 9.375rem);">
            </div>
          </div>
          <div class="tabconfig-pane" data-pane="export">
            <article>
              <blockquote>
                <b data-locale="ui.config.i/e.save-first">
                  먼저 저장해야 합니다!
                </b>
              </blockquote>
              <blockquote data-locale="ui.config.i/e.export-help">
                '일반 > 레이아웃'의 값은 '스타일'에 포함되고,
                몇몇 값은 제외됩니다.
                <br />
                기본값과 다른 값은 내보내지지 않습니다.
              </blockquote>
              <p class="control">
                <label for="export-column"
                       data-locale="ui.config.i/e.config-to-export">
                  내보낼 설정
                </label>
                <select id="export-column">
                  <option value="style"
                          data-locale="ui.config.style._">
                    스타일
                  </option>
                  <option value="color"
                          data-locale="ui.config.color._">
                    게이지 색상
                  </option>
                  <option value="colwidth"
                          data-locale="ui.config.width._">
                    너비
                  </option>
                  <option value="tabs"
                          data-locale="ui.config.tab._">
                    탭
                  </option>
                  <option value="style,color,colwidth,tabs" selected
                          data-locale="ui.config.i/e.all">
                    전부
                  </option>
                </select>
              </p>
              <p class="control text-right">
                <button id="export-confirm"
                        data-locale="ui.config.i/e.export">
                  내보내기
                </button>
              </p>
            </article>
            <div class="tabconfig-content text-center"
                 style="height: calc(100% - 12.375rem);">
              <p data-locale="ui.config.i/e.copy-this">
                아래의 값을 전부 복사하세요:
              </p>
              <p>
                <input type="text" id="export-text" class="text-center" />
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>

